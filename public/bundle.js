(()=>{"use strict";class e{constructor(e,t,n,c,r){this.firstScreen=e,this.secondScreen=t,this.thirdScreen=n,this.searchScreen=c,this.menuScreen=r,this.firstScreen=e,this.secondScreen=t,this.thirdScreen=n,this.searchScreen=c,this.menuScreen=r}static getElements(){return new e(document.querySelector(".first-screen-container"),document.querySelector(".second-screen-container"),document.querySelector(".third-screen-container"),document.querySelector(".search-screen-container"),document.querySelector(".menu-screen-container"))}static secondScreen(){e.getElements().firstScreen.style.display="none",e.getElements().thirdScreen.style.display="none",e.getElements().searchScreen.style.display="none",e.getElements().menuScreen.style.display="none",e.getElements().secondScreen.style.opacity="1",e.getElements().secondScreen.style.display="block"}static thirdScreen(t){e.getElements().firstScreen.style.display="none",e.getElements().menuScreen.style.display="none",e.getElements().secondScreen.style.opacity="0.2",document.querySelector(".day-details").style.backgroundColor=t[0].color,document.querySelector(".target-day").innerText=t[0].day,document.querySelector(".target-img").src=t[0].icon,document.querySelector("#temp-detail-average").innerText=t[0].average,document.querySelector("#temp-small").innerText=t[0].minmax,document.querySelector("#date1").innerText=t[0].date1,document.querySelector("#date2").innerText=t[0].date2,document.querySelector("#date3").innerText=t[0].date3,document.querySelector("#date4").innerText=t[0].date4,document.querySelector("#date5").innerText=t[0].date5,e.getElements().thirdScreen.style.display="block",e.getElements().thirdScreen.classList.add("show"),e.viewsBackground(e.getElements().thirdScreen),e.hideBackground(e.getElements().thirdScreen)}static searchView(){e.getElements().firstScreen.style.display="none",e.getElements().secondScreen.style.opacity="0.2",e.getElements().thirdScreen.style.display="none",e.getElements().menuScreen.style.display="none",e.getElements().searchScreen.style.display="flex",e.viewsBackground(e.getElements().searchScreen),e.hideBackground(e.getElements().searchScreen),e.closeSearch()}static menuView(){e.getElements().firstScreen.style.display="none",e.getElements().secondScreen.style.opacity="0.2",e.getElements().thirdScreen.style.display="none",e.getElements().searchScreen.style.display="none",e.getElements().menuScreen.style.display="flex",e.viewsBackground(e.getElements().menuScreen),e.hideBackground(e.getElements().menuScreen),e.closeMenu()}static closeSearch(){document.querySelector(".close-search").addEventListener("click",(()=>{e.secondScreen()}))}static closeMenu(){document.querySelector(".close-menu").addEventListener("click",(()=>{e.secondScreen()}))}static viewsBackground(e){let t=document.createElement("div");t.classList.add("back-element"),e.appendChild(t)}static hideBackground(t){t.addEventListener("click",(t=>{"back-element"===t.target.className&&(e.secondScreen(),t.target.remove())}))}}class t{static gettingData(e){const t=localStorage.getItem("dataArr"),n=JSON.parse(t);let c=[];return"un"===e&&(c[0]={day:document.querySelector("#firstDay").innerText,color:"#28e0ae",icon:document.querySelector("#icon1").src,average:document.querySelector("#average1").innerText,minmax:document.querySelector("#minmax1").innerText,date1:n[22].minuit,date2:n[22].sixam,date3:n[22].twelve,date4:n[22].height,date5:n[22].twentytwo}),"deu"===e&&(c[0]={day:document.querySelector("#secondDay").innerText,color:"#ff0090",icon:document.querySelector("#icon2").src,average:document.querySelector("#average2").innerText,minmax:document.querySelector("#minmax2").innerText,date1:n[23].minuit,date2:n[23].sixam,date3:n[23].twelve,date4:n[23].height,date5:n[23].twentytwo}),"tro"===e&&(c[0]={day:document.querySelector("#thirdDay").innerText,color:"#cb8f0e",icon:document.querySelector("#icon3").src,average:document.querySelector("#average3").innerText,minmax:document.querySelector("#minmax3").innerText,date1:n[24].minuit,date2:n[24].sixam,date3:n[24].twelve,date4:n[24].height,date5:n[24].twentytwo}),"qua"===e&&(c[0]={day:document.querySelector("#fourDay").innerText,color:"#0090ff",icon:document.querySelector("#icon4").src,average:document.querySelector("#average4").innerText,minmax:document.querySelector("#minmax4").innerText,date1:n[23].minuit,date2:n[23].sixam,date3:n[23].twelve,date4:n[23].height,date5:n[23].twentytwo}),"cin"===e&&(c[0]={day:document.querySelector("#fiveDay").innerText,color:"#dc0000",icon:document.querySelector("#icon5").src,average:document.querySelector("#average5").innerText,minmax:document.querySelector("#minmax5").innerText,date1:n[24].minuit,date2:n[24].sixam,date3:n[24].twelve,date4:n[24].height,date5:n[24].twentytwo}),"six"===e&&(c[0]={day:document.querySelector("#sixDay").innerText,color:"#0051ff",icon:document.querySelector("#icon6").src,average:document.querySelector("#average6").innerText,minmax:document.querySelector("#minmax6").innerText,date1:n[22].minuit,date2:n[22].sixam,date3:n[22].twelve,date4:n[22].height,date5:n[22].twentytwo}),c}}class n{static weather(){return e=this,t=void 0,c=function*(){const e=yield fetch("../../../../lorem.json");return yield e.json()},new((n=void 0)||(n=Promise))((function(r,a){function o(e){try{d(c.next(e))}catch(e){a(e)}}function s(e){try{d(c.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}d((c=c.apply(e,t||[])).next())}));var e,t,n,c}}const c=new class{constructor(e,t,n,c,r){this.startButton=e,this.otherDays=t,this.closeButton=n,this.searchIcon=c,this.menuIcon=r,this.startButton=e,this.otherDays=t,this.closeButton=n,this.searchIcon=c,this.menuIcon=r}showScreens(){this.startButton.addEventListener("click",(()=>{e.secondScreen()})),this.closeButton.addEventListener("click",(()=>{e.secondScreen()})),Array.from(this.otherDays).forEach((n=>{n.addEventListener("click",(n=>{const c=n.target.getAttribute("data-d"),r=t.gettingData(c);e.thirdScreen(r)}))}));const n=[];n[0]=document.querySelector("#todays"),n[1]=document.querySelector("#tomorrows"),n[2]=document.querySelector("#threeDay"),n.forEach((n=>{n.addEventListener("click",(()=>{let c="un";"todays"===n.getAttribute("id")&&(c="un"),"tomorrows"===n.getAttribute("id")&&(c="deu"),"threeDay"===n.getAttribute("id")&&(c="tro");const r=t.gettingData(c);e.thirdScreen(r)}))})),this.searchIcon.addEventListener("click",(()=>{e.searchView()})),this.menuIcon.addEventListener("click",(()=>{e.menuView()}))}}(document.querySelector(".start"),document.querySelectorAll(".days"),document.querySelector(".close-button"),document.querySelector(".search-icon"),document.querySelector(".menu-icon"));window.addEventListener("DOMContentLoaded",(()=>{c.showScreens(),n.weather(),class{static getApiData(){return e=this,t=void 0,r=function*(){let e=[];const t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];let c=yield n.weather();e.push(c.location.name),e.push(c.location.country),e.push(c.current.temp_c),e.push(c.current.condition.text),e.push(c.current.humidity),e.push(c.current.is_day),e.push(c.forecast.forecastday[2].date),e.push(c.forecast.forecastday[0].date),e.push(c.forecast.forecastday[0].day.avgtemp_c),e.push(c.forecast.forecastday[0].day.mintemp_c),e.push(c.forecast.forecastday[0].day.maxtemp_c),e.push(c.forecast.forecastday[0].day.condition.icon),e.push(c.forecast.forecastday[1].date),e.push(c.forecast.forecastday[1].day.avgtemp_c),e.push(c.forecast.forecastday[1].day.mintemp_c),e.push(c.forecast.forecastday[1].day.maxtemp_c),e.push(c.forecast.forecastday[1].day.condition.icon),e.push(c.forecast.forecastday[2].date),e.push(c.forecast.forecastday[2].day.avgtemp_c),e.push(c.forecast.forecastday[2].day.mintemp_c),e.push(c.forecast.forecastday[2].day.maxtemp_c),e.push(c.forecast.forecastday[2].day.condition.icon),e.push({minuit:c.forecast.forecastday[0].hour[0].temp_c,sixam:c.forecast.forecastday[0].hour[6].temp_c,twelve:c.forecast.forecastday[0].hour[12].temp_c,height:c.forecast.forecastday[0].hour[18].temp_c,twentytwo:c.forecast.forecastday[0].hour[22].temp_c}),e.push({minuit:c.forecast.forecastday[1].hour[0].temp_c,sixam:c.forecast.forecastday[1].hour[6].temp_c,twelve:c.forecast.forecastday[1].hour[12].temp_c,height:c.forecast.forecastday[1].hour[18].temp_c,twentytwo:c.forecast.forecastday[1].hour[22].temp_c}),e.push({minuit:c.forecast.forecastday[2].hour[0].temp_c,sixam:c.forecast.forecastday[2].hour[6].temp_c,twelve:c.forecast.forecastday[2].hour[12].temp_c,height:c.forecast.forecastday[2].hour[18].temp_c,twentytwo:c.forecast.forecastday[2].hour[22].temp_c}),localStorage.setItem("dataArr",JSON.stringify(e)),console.log(e),document.getElementById("location").innerText=e[0]+", "+e[1],document.getElementById("currentTemp").innerText=e[2]+"°",document.getElementById("currentText").innerText=e[3],document.getElementById("currentHum").innerText=e[4];const r=document.getElementById("dayOrNight");0===e[5]?r.src="./img/night.png":r.src="./img/day.png";let a=t[new Date(e[6]).getDay()];document.getElementById("threeDay").innerText=a;let o=t[new Date(e[7]).getDay()];document.getElementById("firstDay").innerText=o+" (Today)",document.getElementById("average1").innerText=e[8]+"°",document.getElementById("minmax1").innerText=e[9]+"° - "+e[10]+"°",document.getElementById("icon1").src="https:"+e[11];let s=t[new Date(e[12]).getDay()];document.getElementById("secondDay").innerText=s,document.getElementById("average2").innerText=e[13]+"°",document.getElementById("minmax2").innerText=e[14]+"° - "+e[15]+"°",document.getElementById("icon2").src="https:"+e[16];const d=new Date(e[17]);let i=t[d.getDay()];document.getElementById("thirdDay").innerText=i,document.getElementById("average3").innerText=e[18]+"°",document.getElementById("minmax3").innerText=e[19]+"° - "+e[20]+"°",document.getElementById("icon3").src="https:"+e[21];let m=t[(d.getDay()+8)%7];document.getElementById("fourDay").innerText=m,document.getElementById("average4").innerText=e[8]+1.2+"°",document.getElementById("minmax4").innerText=e[9]+1.2+"° - "+(e[10]+1.2)+"°",document.getElementById("icon4").src="https:"+e[11];let u=t[(d.getDay()+9)%7];document.getElementById("fiveDay").innerText=u,document.getElementById("average5").innerText=e[18]+.7+"°",document.getElementById("minmax5").innerText=e[19]+.7+"° - "+(e[20]+.7)+"°",document.getElementById("icon5").src="https:"+e[21];let l=t[(d.getDay()+10)%7];document.getElementById("sixDay").innerText=l,document.getElementById("average6").innerText=e[13]-.7+"°",document.getElementById("minmax6").innerText=e[14]+.5+"° - "+(e[15]+.5)+"°",document.getElementById("icon6").src="https:"+e[16]},new((c=void 0)||(c=Promise))((function(n,a){function o(e){try{d(r.next(e))}catch(e){a(e)}}function s(e){try{d(r.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof c?t:new c((function(e){e(t)}))).then(o,s)}d((r=r.apply(e,t||[])).next())}));var e,t,c,r}}.getApiData()}))})();